preferredLabels = {\n?subject a veniss_ontology:Actor.\nOPTIONAL {\n                      ?subject crm:P1_is_identified_by ?given_name_node.\n                      ?given_name_node crm:P2_has_type <https://veniss.net/resource/type/given_name>;\n                        rdfs:label ?given_name_label.\n                      BIND(CONCAT("\\, "\\, ?given_name_label\\, " ") AS ?given_name)\n                    }\n                    OPTIONAL {\n                      ?subject crm:P1_is_identified_by ?family_name_node.\n                      ?family_name_node crm:P2_has_type <https://veniss.net/resource/type/family_name>;\n                        rdfs:label ?family_name_label.\n                      BIND(?family_name_label AS ?family_name)\n                    }\n                    OPTIONAL {\n                      ?subject crm:P1_is_identified_by ?alias_node.\n                      ?alias_node crm:P2_has_type <https://veniss.net/resource/type/person_alias>;\n                        rdfs:label ?alias_label.\n                      BIND(CONCAT(" ("\\, ?alias_label\\, ") ") AS ?alias)\n                    }\n                    OPTIONAL {\n                      ?subject crm:P1_is_identified_by ?patronymic_node.\n                      ?patronymic_node crm:P2_has_type <https://veniss.net/resource/type/person_patronymic>;\n                        rdfs:label ?patronymic_label.\n                      BIND(CONCAT("di "\\, ?patronymic_label) AS ?patronymic)\n                    }\n                    OPTIONAL {\n                      ?subject crm:P1_is_identified_by ?appellation.\n                      ?appellation crm:P2_has_type <https://veniss.net/resource/type/appellation>;\n                        rdfs:label ?group_label\n                    }\n                    BIND(COALESCE(?given_name\\, "") AS ?given_name_final)\n                    BIND(COALESCE(?family_name\\, "") AS ?family_name_final)\n                    BIND(COALESCE(?alias\\, "") AS ?alias_final)\n                    BIND(COALESCE(?patronymic\\, "") AS ?patronymic_final)\n                    BIND(COALESCE(?group_label\\, "") AS ?group_label_final)\n                    BIND(CONCAT(?group_label_final\\, ?family_name_final\\, ?given_name_final\\, ?patronymic_final\\, ?alias_final) AS ?value)\n},{  \n      ?subject a  crm:E52_Time-Span.\n  OPTIONAL {\n    ?subject crm:P170i_time_is_defined_by ?year_time_primitive.\n    ?year_time_primitive a crm:E61_Time-Primitive;\n                         crm:P2_has_type <https://veniss.net/resource/type/time_primitive_year>;\n                         rdfs:label ?year\n  }\n  BIND(COALESCE(?year\\, '') AS ?YYYY)\n  \nOPTIONAL {\n\t?subject crm:P170i_time_is_defined_by ?month_time_primitive.\n    ?month_time_primitive a crm:E61_Time-Primitive;\n                         crm:P2_has_type <https://veniss.net/resource/type/time_primitive_month>;\n                         rdfs:label ?month\n  \n    BIND(\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "01"}\\, "Jan "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "1"}\\, "Jan "\\, \n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "02"}\\, "Feb "\\,\n   \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "2"}\\, "Feb "\\,\n  \t\tIF(\n\t\t\tEXISTS{?month_time_primitive rdfs:label "03"}\\, "Mar "\\,\n    \tIF(\n\t\t\tEXISTS{?month_time_primitive rdfs:label "3"}\\, "Mar "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "04"}\\, "Apr "\\,\n\t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "4"}\\, "Apr "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "05"}\\, "May "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "5"}\\, "May "\\,\n\t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "06"}\\, "Jun "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "6"}\\, "Jun "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "07"}\\, "Jul "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "7"}\\, "Jul "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "08"}\\, "Aug "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "8"}\\, "Aug "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "09"}\\, "Sep "\\,\n    \tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "9"}\\, "Sep "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "10"}\\, "Oct "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "11"}\\, "Nov "\\,\n  \t\tIF(\n  \t\t\tEXISTS{?month_time_primitive rdfs:label "12"}\\, "Dec "\\, ""\n)))))))))))))))))))))\n  \t\tas ?month_name)\n  }\n  BIND(COALESCE(?month_name\\, '') AS ?MM)\n  \n  OPTIONAL {\n   \t?subject crm:P170i_time_is_defined_by ?day_time_primitive.\n  \t\t?day_time_primitive a crm:E61_Time-Primitive;\n                        crm:P2_has_type <https://veniss.net/resource/type/time_primitive_day>;\n                        rdfs:label ?day_name.\n    \n    \n  }\n  BIND(COALESCE(CONCAT(?day_name\\, " ")\\,'') as ?DD)\n      \n  BIND(strdt(CONCAT(?DD\\, ?MM\\, ?YYYY)\\, xsd:date) as ?value)\n},<http://www.researchspace.org/ontology/displayLabel>,<http://www.w3.org/2000/01/rdf-schema#label>,<http://www.w3.org/2004/02/skos/core#prefLabel>
preferredThumbnails = { ?subject rso:PX_has_main_representation ?representation . ?representation a rso:EX_Digital_Image . ?representation crm:P1_is_identified_by/rso:PX_has_file_name ?fileName. BIND(CONCAT('/proxy/IIIF/'\\, ?fileName\\, '/full/!640\\,480/0/default.jpg') AS ?value) },{ ?subject rso:PX_has_main_representation ?representation . ?representation a rso:EX_Digital_Image . BIND(REPLACE(STR(?representation)\\, "^.*/(.*)$"\\, "$1") as ?imageID) . BIND(CONCAT('/proxy/IIIF/'\\, ?imageID\\, '/full/!640\\,480/0/default.jpg') AS ?value) },{ ?subject a rso:EX_Digital_Image . ?subject crm:P1_is_identified_by/rso:PX_has_file_name ?fileName. BIND(CONCAT('/proxy/IIIF/'\\, ?fileName\\, '/full/!640\\,480/0/default.jpg') AS ?value) },{ ?subject a rso:EX_Digital_Image . BIND(REPLACE(STR(?subject)\\, "^.*/(.*)$"\\, "$1") as ?imageID) . BIND(CONCAT('/proxy/IIIF/'\\, ?imageID\\, '/full/!640\\,480/0/default.jpg') AS ?value) },{ ?subject crm:P138i_has_representation ?representation . ?representation a rso:EX_Digital_Image . ?representation crm:P1_is_identified_by/rso:PX_has_file_name ?fileName. BIND(CONCAT('/proxy/IIIF/'\\, ?fileName\\, '/full/!640\\,480/0/default.jpg') AS ?value) },{ ?subject crm:P138i_has_representation ?representation . ?representation a rso:EX_Digital_Image . BIND(REPLACE(STR(?representation)\\, "^.*/(.*)$"\\, "$1") as ?imageID) . BIND(CONCAT('/proxy/IIIF/'\\, ?imageID\\, '/full/!640\\,480/0/default.jpg') AS ?value) },<http://www.researchspace.org/ontology/PX_has_main_representation>,<http://www.cidoc-crm.org/cidoc-crm/P138i_has_representation>,{ ?object <http://www.researchspace.org/ontology/PX_has_main_representation> ?subject . BIND(?subject as ?value) }
templateIncludeQuery = PREFIX rso: <http://www.researchspace.org/ontology/> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>  select ?type where { { FILTER(STRSTARTS(STR(??)\\, "http://www.researchspace.org/resource/user/")). BIND(rso:User as ?type). BIND(-1 as ?index) } UNION {?? <http://www.researchspace.org/ontology/PX_object_type>  ?type . BIND(0 AS ?index) } UNION {?? <http://www.cidoc-crm.org/cidoc-crm/P2_has_type>  ?type . BIND(1 AS ?index) } UNION { ?? a ?type . BIND(2 AS ?index) }  UNION { ?? a ?t .  ?t rdfs:subClassOf* ?type . FILTER (?type in (crm:E28_Conceptual_Object\\, crm:E24_Physical_Man-Made_Thing\\, crm:E39_Actor\\, crm:E53_Place\\, crm:E5_Event)). BIND(3 AS ?index) }  UNION { ?? a ?t . ?t rdfs:subClassOf+ ?type . BIND(4 AS ?index) } } ORDER BY ?index
deploymentTitle = VeNiss
