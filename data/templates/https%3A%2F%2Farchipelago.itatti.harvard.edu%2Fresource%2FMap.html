<div id="mapContainer">
  <semantic-search-result>
    <semantic-map
      id="search-map"
      target-controls='["search-map-control"]'
      query="SELECT DISTINCT ?subject ?wkt ?name ?function ?use ?typology ?bob ?boe ?eob ?eoe WHERE {
        ?subject rdfs:label ?name.
        OPTIONAL {
          ?subject arconto:has_use ?useNode.
          ?useNode rdfs:label ?use.
          FILTER (lang(?use) = 'en').
          FILTER (STR(?use) != 'Use').
        }
  
        OPTIONAL {
          ?subject arconto:has_typology ?typologyNode.
          ?typologyNode rdfs:label ?typology.
        }
          OPTIONAL {
          ?subject arconto:has_function ?functionNode.
          ?functionNode rdfs:label ?function.
          FILTER (lang(?function) = 'en').
          FILTER (STR(?function) != 'Function').
        }
      }

      
      
      ORDER BY DESC(?subject)"
      map-options='{"crs":"EPSG:3857", "extent": [1358358.959761288, 5681238.026850056, 1385414.0522355612, 5705635.9345880805]}'
      fix-zoom-level="17"
      fix-center="[1370000.000000000, 5692800.000000000]"
      tuple-template="{{> details }}"
    >

      <template id="details">
        <h3>{{name.value}}</h3>
          <div>Typology: {{typology.value}}</div>
          <div>Use: {{use.value}}</div>
          <div>Creation: {{bob.value}}</div>
          <div>Destruction: {{eoe.value}}</div>
        <p>
          <semantic-link iri="{{subject.value}}">See details</semantic-link>
          
          
        </p>
      </template>

      <tiles-layer
        thumbnail='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1945/img.jpg'
        url='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1945/{z}/{x}/{y}.png'
        identifier='SS_1945'
        name='Aerial view of the island of San Secondo'
        level='overlay'
        author="Royal Air Force"
        location=""
        year="1945">
      </tiles-layer>

      <tiles-layer
        thumbnail='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1852/img.jpg'
        url='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1852/{z}/{x}/{y}.png'
        identifier='SS_1852'
        name='Forte san secondo'
        level='overlay'
        author="Unknown author"
        location=""
        year="1852">
      </tiles-layer>

      <tiles-layer
        thumbnail='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1697/img.jpg'
        url='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1697/{z}/{x}/{y}.png'
        identifier='SS_1697'
        name='Giardini et Horti'
        level='overlay'
        author="Coronelli"
        location=""
        year="1697">
      </tiles-layer>

      <tiles-layer
        thumbnail='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1801/img.jpg'
        url='https://d309ui6x6ebg9v.cloudfront.net/maps/SS/1801/{z}/{x}/{y}.png'
        identifier='SS_1801'
        name='Plan of the island of San Secondo'
        level='overlay'
        author="K.K. Fortifications Local Direction zu Venedig"
        location=""
        year="1801">
      </tiles-layer>

      <tiles-layer
        thumbnail='/assets/images/1763_Polynomial2_NN.jpg'
        url='/proxy/mapbox/v4/gspinaci.cxuajku9/{z}/{x}/{y}@2x.png'
        identifier='1763_Polynomial2_NN'
        name='Map of the Venetian Lagoon'
        level='overlay'
        author="Angelo Emo"
        location="Venice, Archivio di Stato di Venezia, Savi ed esecutori alle acque, Disegni, Laguna, dis. 167"
        year="1763"></tiles-layer>
        <tiles-layer
        thumbnail='/assets/images/basemaps_thumbnails_light.jpg'
        url='/proxy/mapbox/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}'
        identifier='light'
        name='Light'
        level='basemap'
        author=""
        location=""
        year=""></tiles-layer>
     
      <tiles-layer
        thumbnail='/assets/images/basemaps_thumbnails_satellite.jpg'
        url='/proxy/mapbox/styles/v1/mapbox/satellite-v9/tiles/256/{z}/{x}/{y}'
        identifier='satellite'
        name='Satellite View' 
        level='basemap'
        author=""
        location=""
        year="">
      </tiles-layer>

    </semantic-map>
  </semantic-search-result>
</div>
